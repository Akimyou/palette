webpackJsonp([2],{"88zO":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("Dd8w"),n=r.n(s),i=r("NYxO"),a=r("CESU"),o=r("oqQY"),c={name:"recorder",props:["theme"],data:function(){return{title:this.theme.title,editable:!1}},computed:{color:function(){return this.theme.data.basic.color}},methods:{dayjs:r.n(o).a,changeTitle:function(e){e?""!==this.title?this.editable=!1:this.$message.error("请输入主题标题"):(this.title=this.theme.title,this.editable=!1)},onClick:function(e){this.editable||this.$emit("select",e)}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"palette-recorder",on:{click:function(t){e.onClick(e.theme.index)}}},[r("div",{staticClass:"palette-recorder-top"},[e.editable?r("div",[r("el-input",{attrs:{placeholder:e.$t("recorder.placeholder")},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.title,callback:function(t){e.title="string"==typeof t?t.trim():t},expression:"title"}}),e._v(" "),r("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){t.stopPropagation(),e.changeTitle(!1)}}},[e._v(e._s(e.$t("recorder.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){t.stopPropagation(),e.changeTitle(!0)}}},[e._v(e._s(e.$t("recorder.confirm")))])],1):r("p",{staticClass:"title",domProps:{textContent:e._s(e.theme.title)}})]),e._v(" "),r("div",{staticClass:"palette-recorder-detail"},[r("ul",{staticClass:"color-list clearfix"},[r("li",{staticClass:"color-item",style:{background:e.color["color-primary"]}}),e._v(" "),r("li",{staticClass:"color-item",style:{background:e.color["color-primary-tap"]}}),e._v(" "),r("li",{staticClass:"color-item",style:{background:e.color["color-primary-background"]}})]),e._v(" "),r("p",{staticClass:"text"},[e._v(e._s(e.$t("recorder.modify")+" "+e.dayjs(e.theme.lastModify).format("YYYY/MM/DD HH:mm")))])]),e._v(" "),r("div",{staticClass:"palette-recorder-operate"},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("recorder.edit"),placement:"top"}},[r("i",{staticClass:"el-icon-edit",on:{click:function(t){t.stopPropagation(),e.$emit("edit",e.theme.index)}}})]),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("recorder.download"),placement:"top"}},[r("i",{staticClass:"el-icon-download",on:{click:function(t){t.stopPropagation(),e.$emit("download",e.theme.index)}}})]),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("recorder.delete"),placement:"top"}},[r("i",{staticClass:"el-icon-delete",on:{click:function(t){t.stopPropagation(),e.$emit("delete",e.theme.index)}}})])],1)])},staticRenderFns:[]};var h=r("VU/8")(c,l,!1,function(e){r("jZ/n")},null,null).exports,u=r("olLJ"),d={components:{PaletteSearcher:a.a,PaletteRecorder:h,PaletteStatus:u.a},data:function(){return{searchThemes:[],themeFormVisible:!1,themeForm:{}}},computed:n()({},Object(i.d)(["themes","mandMobileInfo"]),{themeList:function(){return this.searchThemes.length?this.searchThemes:this.themes}}),mounted:function(){var e=this;this.getMandMobileInfo().catch(function(t){t.message&&e.$message(t.message)})},methods:n()({},Object(i.c)(["createTheme","deleteTheme","updateThemeInfo"]),Object(i.b)({getMandMobileInfo:"GET_MAND_MOBILE_RELEASE",saveThemeStore:"SAVE_THEMES_STORE"}),{onDelete:function(e){var t=this;this.$confirm(this.$t("record.messageDescribe"),this.$t("record.messageTitle"),{confirmButtonText:this.$t("record.messageConfirm"),cancelButtonText:this.$t("record.messageCancel"),type:"warning"}).then(function(){t.deleteTheme(e),t.saveThemeStore()}).catch(function(){})},onSelect:function(e){this.$router.push({path:"/list",query:{themeIndex:e}})},onDownload:function(e){this.$router.push({path:"/generate",query:{themeIndex:e}})},onSearchTheme:function(e){this.searchThemes=e?this.themes.filter(function(t){return!!~t.title.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())}):this.themes},showThemeDialog:function(e){this.$refs.themeForm&&this.$refs.themeForm.resetFields();var t="";this.themes&&e>=0&&(t=this.themes[e]),this.themeForm=t?{title:t.title,version:t.version,themeIndex:e}:{title:"",version:this.mandMobileInfo,themeIndex:-1},this.themeFormVisible=!0},doCreateTheme:function(){this.themes&&this.themes.length>20?this.$message.error(this.$t("record.errorLimit")):this.showThemeDialog(-1)},doSaveTheme:function(){var e=this;this.$refs.themeForm.validate(function(t){t&&(e.themeFormVisible=!1,e.themeForm.themeIndex<0?e.createTheme(e.themeForm):e.updateThemeInfo(e.themeForm),e.saveThemeStore())})}})},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"palette-record"},[r("div",{staticClass:"palette-record-top clearfix"},[r("palette-searcher",{attrs:{placeholder:e.$t("record.searchTip")},on:{search:e.onSearchTheme}}),e._v(" "),r("el-button",{attrs:{type:"primary",round:"",icon:"el-icon-circle-plus"},on:{click:e.doCreateTheme}},[e._v("\n      "+e._s(e.$t("record.createBtn"))+"\n    ")])],1),e._v(" "),r("div",{staticClass:"palette-record-list clearfix"},[e.themeList&&e.themeList.length?[r("transition-group",{attrs:{name:"list-complete",tag:"div"}},e._l(e.themeList,function(t,s){return r("palette-recorder",{key:"record-"+s,attrs:{theme:t},on:{delete:e.onDelete,select:e.onSelect,edit:e.showThemeDialog,download:e.onDownload}})}))]:[r("palette-status",{attrs:{imgUrl:"//manhattan.didistatic.com/static/manhattan/mfd/result-page/empty",describe:e.$t("record.errorTip")}})]],2),e._v(" "),r("el-dialog",{attrs:{width:"500px",title:"sdfsdf",visible:e.themeFormVisible},on:{"update:visible":function(t){e.themeFormVisible=t}}},[r("el-form",{ref:"themeForm",attrs:{model:e.themeForm,"label-width":"120px","label-position":"left"}},[r("el-form-item",{attrs:{prop:"title",label:e.$t("record.dialogThemeName"),rules:[{required:!0,message:e.$t("recorder.placeholder"),trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:e.$t("recorder.placeholder"),"auto-complete":"off",maxlength:"20"},model:{value:e.themeForm.title,callback:function(t){e.$set(e.themeForm,"title",t)},expression:"themeForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"version",label:e.$t("record.dialogThemeVersion"),rules:[{required:!0,message:e.$t("record.dialogThemeVersionTip"),trigger:"blur"}]}},[r("el-select",{attrs:{placeholder:e.$t("record.dialogThemeVersionTip"),disabled:""},model:{value:e.themeForm.version,callback:function(t){e.$set(e.themeForm,"version",t)},expression:"themeForm.version"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[r("p",{staticClass:"title"},[e._v(e._s(e.$t("record.dialogTitle")))]),e._v(" "),r("p",{staticClass:"describe"},[e._v(e._s(e.$t("record.dialogDescribe")))])]),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.themeFormVisible=!1}}},[e._v(e._s(e.$t("record.messageCancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.doSaveTheme}},[e._v(e._s(e.$t("record.messageConfirm")))])],1)],1)],1)},staticRenderFns:[]};var f=r("VU/8")(d,m,!1,function(e){r("ngvS")},null,null);t.default=f.exports},CESU:function(e,t,r){"use strict";var s={name:"palette-searcher",props:{placeholder:{type:String,default:""}},data:function(){return{value:""}},watch:{value:function(e){this.$emit("search",e)}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"palette-searcher"},[r("i",{staticClass:"el-icon-search"}),e._v(" "),r("el-input",{staticClass:"palette-searcher-input",attrs:{placeholder:e.placeholder,"auto-complete":"off"},model:{value:e.value,callback:function(t){e.value="string"==typeof t?t.trim():t},expression:"value"}})],1)},staticRenderFns:[]};var i=r("VU/8")(s,n,!1,function(e){r("zn5i")},null,null);t.a=i.exports},"jZ/n":function(e,t){},ngvS:function(e,t){},oqQY:function(e,t,r){var s;s=function(){"use strict";var e="millisecond",t="second",r="minute",s="hour",n="day",i="week",a="month",o="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})(.*?(\d{1,2}):(\d{1,2}):(\d{1,2}))?.?(\d{1,3})?$/,l=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},u=function(e,t,r){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(r)+e},d={padStart:u,padZoneStr:function(e){var t=Math.abs(e),r=Math.floor(t/60),s=t%60;return(e<=0?"+":"-")+u(r,2,"0")+":"+u(s,2,"0")},monthDiff:function(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(r,"months"),n=t-s<0,i=e.clone().add(r+(n?-1:1),"months");return Number(-(r+(t-s)/(n?s-i:i-s)))},absFloor:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},prettyUnit:function(c){return{M:a,y:o,w:i,d:n,h:s,m:r,s:t,ms:e}[c]||String(c||"").toLowerCase().replace(/s$/,"")},isUndefined:function(e){return void 0===e}},m="en",f={};f[m]=h;var p=function(e){return e instanceof y},$=function(e,t,r){var s;if(!e)return null;if("string"==typeof e)f[e]&&(s=e),t&&(f[e]=t,s=e);else{var n=e.name;f[n]=e,s=n}return r||(m=s),s},v=function(e,t){if(p(e))return e.clone();var r=t||{};return r.date=e,new y(r)},g=function(e,t){return v(e,{locale:t.$L})},b=d;b.parseLocale=$,b.isDayjs=p,b.wrapper=g;var y=function(){function h(e){this.parse(e)}var u=h.prototype;return u.parse=function(e){var t,r;this.$d=null===(t=e.date)?new Date(NaN):b.isUndefined(t)?new Date:t instanceof Date?t:"string"==typeof t&&/.*[^Z]$/i.test(t)&&(r=t.match(c))?new Date(r[1],r[2]-1,r[3]||1,r[5]||0,r[6]||0,r[7]||0,r[8]||0):new Date(t),this.init(e)},u.init=function(e){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds(),this.$L=this.$L||$(e.locale,null,!0)||m},u.$utils=function(){return b},u.isValid=function(){return!("Invalid Date"===this.$d.toString())},u.$compare=function(e){return this.valueOf()-v(e).valueOf()},u.isSame=function(e){return 0===this.$compare(e)},u.isBefore=function(e){return this.$compare(e)<0},u.isAfter=function(e){return this.$compare(e)>0},u.year=function(){return this.$y},u.month=function(){return this.$M},u.day=function(){return this.$W},u.date=function(){return this.$D},u.hour=function(){return this.$H},u.minute=function(){return this.$m},u.second=function(){return this.$s},u.millisecond=function(){return this.$ms},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(e,c){var l=this,h=!!b.isUndefined(c)||c,u=function(e,t){var r=g(new Date(l.$y,t,e),l);return h?r:r.endOf(n)},d=function(e,t){return g(l.toDate()[e].apply(l.toDate(),h?[0,0,0,0].slice(t):[23,59,59,999].slice(t)),l)};switch(b.prettyUnit(e)){case o:return h?u(1,0):u(31,11);case a:return h?u(1,this.$M):u(0,this.$M+1);case i:return u(h?this.$D-this.$W:this.$D+(6-this.$W),this.$M);case n:case"date":return d("setHours",0);case s:return d("setMinutes",1);case r:return d("setSeconds",2);case t:return d("setMilliseconds",3);default:return this.clone()}},u.endOf=function(e){return this.startOf(e,!1)},u.$set=function(i,c){switch(b.prettyUnit(i)){case n:this.$d.setDate(this.$D+(c-this.$W));break;case"date":this.$d.setDate(c);break;case a:this.$d.setMonth(c);break;case o:this.$d.setFullYear(c);break;case s:this.$d.setHours(c);break;case r:this.$d.setMinutes(c);break;case t:this.$d.setSeconds(c);break;case e:this.$d.setMilliseconds(c)}return this.init(),this},u.set=function(e,t){return this.clone().$set(e,t)},u.add=function(e,c){var l=this;e=Number(e);var h,u=b.prettyUnit(c),d=function(t,r){var s=l.set("date",1).set(t,r+e);return s.set("date",Math.min(l.$D,s.daysInMonth()))};if(u===a)return d(a,this.$M);if(u===o)return d(o,this.$y);switch(u){case r:h=6e4;break;case s:h=36e5;break;case n:h=864e5;break;case i:h=6048e5;break;case t:h=1e3;break;default:h=1}var m=this.valueOf()+e*h;return g(m,this)},u.subtract=function(e,t){return this.add(-1*e,t)},u.format=function(e){var t=this,r=e||"YYYY-MM-DDTHH:mm:ssZ",s=b.padZoneStr(this.$d.getTimezoneOffset()),n=this.$locale(),i=n.weekdays,a=n.months,o=function(e,t,r,s){return e&&e[t]||r[t].substr(0,s)};return r.replace(l,function(e){if(e.indexOf("[")>-1)return e.replace(/\[|\]/g,"");switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return String(t.$y);case"M":return String(t.$M+1);case"MM":return b.padStart(t.$M+1,2,"0");case"MMM":return o(n.monthsShort,t.$M,a,3);case"MMMM":return a[t.$M];case"D":return String(t.$D);case"DD":return b.padStart(t.$D,2,"0");case"d":return String(t.$W);case"dd":return o(n.weekdaysMin,t.$W,i,2);case"ddd":return o(n.weekdaysShort,t.$W,i,3);case"dddd":return i[t.$W];case"H":return String(t.$H);case"HH":return b.padStart(t.$H,2,"0");case"h":case"hh":return 0===t.$H?12:b.padStart(t.$H<13?t.$H:t.$H-12,"hh"===e?2:1,"0");case"a":return t.$H<12?"am":"pm";case"A":return t.$H<12?"AM":"PM";case"m":return String(t.$m);case"mm":return b.padStart(t.$m,2,"0");case"s":return String(t.$s);case"ss":return b.padStart(t.$s,2,"0");case"SSS":return b.padStart(t.$ms,3,"0");case"Z":return s;default:return s.replace(":","")}})},u.diff=function(e,c,l){var h=b.prettyUnit(c),u=v(e),d=this-u,m=b.monthDiff(this,u);switch(h){case o:m/=12;break;case a:break;case"quarter":m/=3;break;case i:m=d/6048e5;break;case n:m=d/864e5;break;case s:m=d/36e5;break;case r:m=d/6e4;break;case t:m=d/1e3;break;default:m=d}return l?m:b.absFloor(m)},u.daysInMonth=function(){return this.endOf(a).$D},u.$locale=function(){return f[this.$L]},u.locale=function(e,t){var r=this.clone();return r.$L=$(e,t,!0),r},u.clone=function(){return g(this.toDate(),this)},u.toDate=function(){return new Date(this.$d)},u.toArray=function(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]},u.toJSON=function(){return this.toISOString()},u.toISOString=function(){return this.toDate().toISOString()},u.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}},u.toString=function(){return this.$d.toUTCString()},h}();return v.extend=function(e,t){return e(t,y,v),v},v.locale=$,v.isDayjs=p,v.en=f[m],v},e.exports=s()},zn5i:function(e,t){}});
//# sourceMappingURL=record.8815bea3fe71b8bc4fc3.js.map