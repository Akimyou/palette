webpackJsonp([2],{"88zO":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("Dd8w"),s=r.n(i),n=r("NYxO"),a=r("CESU"),o=r("oqQY"),c={name:"recorder",props:["theme"],data:function(){return{title:this.theme.title,editable:!1}},computed:{color:function(){return this.theme.data.basic.color}},methods:{dayjs:r.n(o).a,changeTitle:function(e){e?""!==this.title?this.editable=!1:this.$message.error("请输入主题标题"):(this.title=this.theme.title,this.editable=!1)},onClick:function(e){this.editable||this.$emit("select",e)}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"palette-recorder",on:{click:function(t){e.onClick(e.theme.index)}}},[r("div",{staticClass:"palette-recorder-top"},[e.editable?r("div",[r("el-input",{attrs:{placeholder:e.$t("recorder.placeholder")},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.title,callback:function(t){e.title="string"==typeof t?t.trim():t},expression:"title"}}),e._v(" "),r("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){t.stopPropagation(),e.changeTitle(!1)}}},[e._v(e._s(e.$t("recorder.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){t.stopPropagation(),e.changeTitle(!0)}}},[e._v(e._s(e.$t("recorder.confirm")))])],1):r("p",{staticClass:"title",domProps:{textContent:e._s(e.theme.title)}})]),e._v(" "),r("div",{staticClass:"palette-recorder-detail"},[r("ul",{staticClass:"color-list clearfix"},[r("li",{staticClass:"color-item",style:{background:e.color["color-primary"]}}),e._v(" "),r("li",{staticClass:"color-item",style:{background:e.color["color-primary-tap"]}}),e._v(" "),r("li",{staticClass:"color-item",style:{background:e.color["color-primary-background"]}})]),e._v(" "),r("p",{staticClass:"text"},[e._v(e._s(e.$t("recorder.modify")+" "+e.dayjs(e.theme.lastModify).format("YYYY/MM/DD HH:mm")))])]),e._v(" "),r("div",{staticClass:"palette-recorder-operate"},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("recorder.edit"),placement:"top"}},[r("i",{staticClass:"el-icon-edit",on:{click:function(t){t.stopPropagation(),e.$emit("edit",e.theme.index)}}})]),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("recorder.download"),placement:"top"}},[r("i",{staticClass:"el-icon-download",on:{click:function(t){t.stopPropagation(),e.$emit("download",e.theme.index)}}})]),e._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("recorder.delete"),placement:"top"}},[r("i",{staticClass:"el-icon-delete",on:{click:function(t){t.stopPropagation(),e.$emit("delete",e.theme.index)}}})])],1)])},staticRenderFns:[]};var h=r("VU/8")(c,l,!1,function(e){r("jZ/n")},null,null).exports,u=r("olLJ"),d={components:{PaletteSearcher:a.a,PaletteRecorder:h,PaletteStatus:u.a},data:function(){return{searchThemes:[],themeFormVisible:!1,themeForm:{}}},computed:s()({},Object(n.d)(["themes","mandMobileInfo"]),{themeList:function(){return this.searchThemes.length?this.searchThemes:this.themes}}),mounted:function(){var e=this;this.getMandMobileInfo().catch(function(t){t.message&&e.$message(t.message)})},methods:s()({},Object(n.c)(["createTheme","deleteTheme","updateThemeInfo"]),Object(n.b)({getMandMobileInfo:"GET_MAND_MOBILE_RELEASE",saveThemeStore:"SAVE_THEMES_STORE"}),{onDelete:function(e){var t=this;this.$confirm(this.$t("record.messageDescribe"),this.$t("record.messageTitle"),{confirmButtonText:this.$t("record.messageConfirm"),cancelButtonText:this.$t("record.messageCancel"),type:"warning"}).then(function(){t.deleteTheme(e),t.saveThemeStore()}).catch(function(){})},onSelect:function(e){this.$router.push({path:"/list",query:{themeIndex:e}})},onDownload:function(e){this.$router.push({path:"/generate",query:{themeIndex:e}})},onSearchTheme:function(e){this.searchThemes=e?this.themes.filter(function(t){return!!~t.title.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())}):this.themes},showThemeDialog:function(e){this.$refs.themeForm&&this.$refs.themeForm.resetFields();var t="";this.themes&&e>=0&&(t=this.themes[e]),this.themeForm=t?{title:t.title,version:t.version,themeIndex:e}:{title:"",version:this.mandMobileInfo,themeIndex:-1},this.themeFormVisible=!0},doCreateTheme:function(){this.themes&&this.themes.length>20?this.$message.error(this.$t("record.errorLimit")):this.showThemeDialog(-1)},doSaveTheme:function(){var e=this;this.$refs.themeForm.validate(function(t){t&&(e.themeFormVisible=!1,e.themeForm.themeIndex<0?e.createTheme(e.themeForm):e.updateThemeInfo(e.themeForm),e.saveThemeStore())})}})},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"palette-record"},[r("div",{staticClass:"palette-record-top clearfix"},[r("palette-searcher",{attrs:{placeholder:e.$t("record.searchTip")},on:{search:e.onSearchTheme}}),e._v(" "),r("el-button",{attrs:{type:"primary",round:"",icon:"el-icon-circle-plus"},on:{click:e.doCreateTheme}},[e._v("\n      "+e._s(e.$t("record.createBtn"))+"\n    ")])],1),e._v(" "),r("div",{staticClass:"palette-record-list clearfix"},[e.themeList&&e.themeList.length?[r("transition-group",{attrs:{name:"list-complete",tag:"div"}},e._l(e.themeList,function(t,i){return r("palette-recorder",{key:"record-"+i,attrs:{theme:t},on:{delete:e.onDelete,select:e.onSelect,edit:e.showThemeDialog,download:e.onDownload}})}))]:[r("palette-status",{attrs:{imgUrl:"//manhattan.didistatic.com/static/manhattan/mfd/result-page/empty",describe:e.$t("record.errorTip")}})]],2),e._v(" "),r("el-dialog",{attrs:{width:"500px",title:"sdfsdf",visible:e.themeFormVisible},on:{"update:visible":function(t){e.themeFormVisible=t}}},[r("el-form",{ref:"themeForm",attrs:{model:e.themeForm,"label-width":"120px","label-position":"left"}},[r("el-form-item",{attrs:{prop:"title",label:e.$t("record.dialogThemeName"),rules:[{required:!0,message:e.$t("recorder.placeholder"),trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:e.$t("recorder.placeholder"),"auto-complete":"off",maxlength:"20"},model:{value:e.themeForm.title,callback:function(t){e.$set(e.themeForm,"title",t)},expression:"themeForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"version",label:e.$t("record.dialogThemeVersion"),rules:[{required:!0,message:e.$t("record.dialogThemeVersionTip"),trigger:"blur"}]}},[r("el-select",{attrs:{placeholder:e.$t("record.dialogThemeVersionTip"),disabled:""},model:{value:e.themeForm.version,callback:function(t){e.$set(e.themeForm,"version",t)},expression:"themeForm.version"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[r("p",{staticClass:"title"},[e._v(e._s(e.$t("record.dialogTitle")))]),e._v(" "),r("p",{staticClass:"describe"},[e._v(e._s(e.$t("record.dialogDescribe")))])]),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.themeFormVisible=!1}}},[e._v(e._s(e.$t("record.messageCancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.doSaveTheme}},[e._v(e._s(e.$t("record.messageConfirm")))])],1)],1)],1)},staticRenderFns:[]};var f=r("VU/8")(d,m,!1,function(e){r("ngvS")},null,null);t.default=f.exports},CESU:function(e,t,r){"use strict";var i={name:"palette-searcher",props:{placeholder:{type:String,default:""}},data:function(){return{value:""}},watch:{value:function(e){this.$emit("search",e)}}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"palette-searcher"},[r("i",{staticClass:"el-icon-search"}),e._v(" "),r("el-input",{staticClass:"palette-searcher-input",attrs:{placeholder:e.placeholder,"auto-complete":"off"},model:{value:e.value,callback:function(t){e.value="string"==typeof t?t.trim():t},expression:"value"}})],1)},staticRenderFns:[]};var n=r("VU/8")(i,s,!1,function(e){r("zn5i")},null,null);t.a=n.exports},"jZ/n":function(e,t){},ngvS:function(e,t){},oqQY:function(e,t,r){var i;i=function(){"use strict";var e="second",t="minute",r="hour",i="day",s="week",n="month",a="year",o=/^(\d{4})-?(\d{1,2})-?(\d{0,2})(.*?(\d{1,2}):(\d{1,2}):(\d{1,2}))?.?(\d{1,3})?$/,c=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(e,t,r){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(r)+e},u={padStart:h,padZoneStr:function(e){var t=Math.abs(e),r=Math.floor(t/60),i=t%60;return(e<=0?"+":"-")+h(r,2,"0")+":"+h(i,2,"0")},monthDiff:function(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months"),s=t-i<0,n=e.clone().add(r+(s?-1:1),"months");return Number(-(r+(t-i)/(s?i-n:n-i)))},absFloor:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},prettyUnit:function(e){return e&&String(e).toLowerCase().replace(/s$/,"")},isUndefined:function(e){return void 0===e}},d="en",m={};m[d]=l;var f=function(e){return e instanceof b},p=function(e,t,r){var i;if(!e)return null;if("string"==typeof e)m[e]&&(i=e),t&&(m[e]=t,i=e);else{var s=e.name;m[s]=e,i=s}return r||(d=i),i},$=function(e,t){if(f(e))return e.clone();var r=t||{};return r.date=e,new b(r)},v=function(e,t){return $(e,{locale:t.$L})},g=u;g.parseLocale=p,g.isDayjs=f,g.wrapper=v;var b=function(){function l(e){this.parse(e)}var h=l.prototype;return h.parse=function(e){var t,r;this.$d=null===(t=e.date)?new Date(NaN):g.isUndefined(t)?new Date:t instanceof Date?t:"string"==typeof t&&(r=t.match(o))?new Date(r[1],r[2]-1,r[3]||1,r[5]||0,r[6]||0,r[7]||0,r[8]||0):new Date(t),this.init(e)},h.init=function(e){this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds(),this.$L=this.$L||p(e.locale,null,!0)||d},h.$utils=function(){return g},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0},h.isSame=function(e){return this.valueOf()===e.valueOf()},h.isBefore=function(e){return this.valueOf()<e.valueOf()},h.isAfter=function(e){return this.valueOf()>e.valueOf()},h.year=function(){return this.$y},h.month=function(){return this.$M},h.day=function(){return this.$W},h.date=function(){return this.$D},h.hour=function(){return this.$H},h.minute=function(){return this.$m},h.second=function(){return this.$s},h.millisecond=function(){return this.$ms},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(o,c){var l=this,h=!!g.isUndefined(c)||c,u=function(e,t,r){void 0===r&&(r=l.$y);var s=v(new Date(r,t,e),l);return h?s:s.endOf(i)},d=function(e,t){return v(l.toDate()[e].apply(l.toDate(),h?[0,0,0,0].slice(t):[23,59,59,999].slice(t)),l)};switch(g.prettyUnit(o)){case a:return h?u(1,0):u(31,11,this.$y);case n:return h?u(1,this.$M):u(0,this.$M+1,this.$y);case s:return h?u(this.$D-this.$W,this.$M):u(this.$D+(6-this.$W),this.$M,this.$y);case i:case"date":return d("setHours",0);case r:return d("setMinutes",1);case t:return d("setSeconds",2);case e:return d("setMilliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(i,s){switch(g.prettyUnit(i)){case"date":this.$d.setDate(s);break;case n:this.$d.setMonth(s);break;case a:this.$d.setFullYear(s);break;case r:this.$d.setHours(s);break;case t:this.$d.setMinutes(s);break;case e:this.$d.setSeconds(s);break;case"millisecond":this.$d.setMilliseconds(s)}return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.add=function(o,c){var l=this;o=Number(o);var h,u=!c||1!==c.length&&"ms"!==c?g.prettyUnit(c):c,d=function(e,t){var r=l.set("date",1).set(e,t+o);return r.set("date",Math.min(l.$D,r.daysInMonth()))};if(["M",n].indexOf(u)>-1)return d(n,this.$M);if(["y",a].indexOf(u)>-1)return d(a,this.$y);switch(u){case"m":case t:h=6e4;break;case"h":case r:h=36e5;break;case"d":case i:h=864e5;break;case"w":case s:h=6048e5;break;case"s":case e:h=1e3;break;default:h=1}var m=this.valueOf()+o*h;return v(m,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e,t){var r=this,i=e||"YYYY-MM-DDTHH:mm:ssZ",s=g.padZoneStr(this.$d.getTimezoneOffset()),n=t||this.$locale(),a=n.weekdays,o=n.months;return i.replace(c,function(e){if(e.indexOf("[")>-1)return e.replace(/\[|\]/g,"");switch(e){case"YY":return String(r.$y).slice(-2);case"YYYY":return String(r.$y);case"M":return String(r.$M+1);case"MM":return g.padStart(r.$M+1,2,"0");case"MMM":return o[r.$M].slice(0,3);case"MMMM":return o[r.$M];case"D":return String(r.$D);case"DD":return g.padStart(r.$D,2,"0");case"d":return String(r.$W);case"dddd":return a[r.$W];case"H":return String(r.$H);case"HH":return g.padStart(r.$H,2,"0");case"h":case"hh":return 0===r.$H?12:g.padStart(r.$H<13?r.$H:r.$H-12,"hh"===e?2:1,"0");case"a":return r.$H<12?"am":"pm";case"A":return r.$H<12?"AM":"PM";case"m":return String(r.$m);case"mm":return g.padStart(r.$m,2,"0");case"s":return String(r.$s);case"ss":return g.padStart(r.$s,2,"0");case"SSS":return g.padStart(r.$ms,3,"0");case"Z":return s;default:return s.replace(":","")}})},h.diff=function(o,c,l){var h=g.prettyUnit(c),u=f(o)?o:$(o.valueOf()),d=this-u,m=g.monthDiff(this,u);switch(h){case a:m/=12;break;case n:break;case"quarter":m/=3;break;case s:m=d/6048e5;break;case i:m=d/864e5;break;case r:m=d/36e5;break;case t:m=d/6e4;break;case e:m=d/1e3;break;default:m=d}return l?m:g.absFloor(m)},h.daysInMonth=function(){return this.endOf(n).$D},h.$locale=function(){return m[this.$L]},h.locale=function(e,t){var r=this.clone();return r.$L=p(e,t,!0),r},h.clone=function(){return v(this.toDate(),this)},h.toDate=function(){return new Date(this.$d)},h.toArray=function(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]},h.toJSON=function(){return this.toISOString()},h.toISOString=function(){return this.toDate().toISOString()},h.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}},h.toString=function(){return this.$d.toUTCString()},l}();return $.extend=function(e,t){return e(t,b,$),$},$.locale=p,$.en=m[d],$},e.exports=i()},zn5i:function(e,t){}});
//# sourceMappingURL=record.c368bc5349736ba9a75b.js.map