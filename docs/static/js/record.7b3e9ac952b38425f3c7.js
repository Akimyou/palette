webpackJsonp([2],{"78af":function(t,e){},"88zO":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("Dd8w"),i=r.n(n),s=r("NYxO"),o=r("CESU"),a=r("oqQY"),c={name:"recorder",props:["theme"],data:function(){return{title:this.theme.title,editable:!1}},computed:{color:function(){return this.theme.data.basic.color}},methods:{dayjs:r.n(a).a,changeTitle:function(t){t?""!==this.title?this.editable=!1:this.$message.error("请输入主题标题"):(this.title=this.theme.title,this.editable=!1)},onClick:function(t){this.editable||this.$emit("select",t)}}},l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"palette-recorder",on:{click:function(e){t.onClick(t.theme.index)}}},[r("div",{staticClass:"palette-recorder-top"},[t.editable?r("div",[r("el-input",{attrs:{placeholder:t.$t("recorder.placeholder")},nativeOn:{click:function(t){t.stopPropagation()}},model:{value:t.title,callback:function(e){t.title="string"==typeof e?e.trim():e},expression:"title"}}),t._v(" "),r("el-button",{attrs:{size:"small"},nativeOn:{click:function(e){e.stopPropagation(),t.changeTitle(!1)}}},[t._v(t._s(t.$t("recorder.cancel")))]),t._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){e.stopPropagation(),t.changeTitle(!0)}}},[t._v(t._s(t.$t("recorder.confirm")))])],1):r("p",{staticClass:"title",domProps:{textContent:t._s(t.theme.title)}})]),t._v(" "),r("div",{staticClass:"palette-recorder-detail"},[r("ul",{staticClass:"color-list clearfix"},[r("li",{staticClass:"color-item",style:{background:t.color["color-primary"]}}),t._v(" "),r("li",{staticClass:"color-item",style:{background:t.color["color-primary-tap"]}}),t._v(" "),r("li",{staticClass:"color-item",style:{background:t.color["color-primary-background"]}})]),t._v(" "),r("p",{staticClass:"text"},[t._v(t._s(t.$t("recorder.modify")+" "+t.dayjs(t.theme.lastModify).format("YYYY/MM/DD HH:mm")))])]),t._v(" "),r("div",{staticClass:"palette-recorder-operate"},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("recorder.edit"),placement:"top"}},[r("i",{staticClass:"el-icon-edit",on:{click:function(e){e.stopPropagation(),t.$emit("edit",t.theme.index)}}})]),t._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("recorder.download"),placement:"top"}},[r("i",{staticClass:"el-icon-download",on:{click:function(e){e.stopPropagation(),t.$emit("download",t.theme.index)}}})]),t._v(" "),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("recorder.delete"),placement:"top"}},[r("i",{staticClass:"el-icon-delete",on:{click:function(e){e.stopPropagation(),t.$emit("delete",t.theme.index)}}})])],1)])},staticRenderFns:[]};var h=r("VU/8")(c,l,!1,function(t){r("jZ/n")},null,null).exports,u=r("olLJ"),d={components:{PaletteSearcher:o.a,PaletteRecorder:h,PaletteStatus:u.a},data:function(){return{searchThemes:[],themeFormVisible:!1,themeForm:{}}},computed:i()({},Object(s.d)(["themes","mandMobileInfo"]),{themeList:function(){return this.searchThemes.length?this.searchThemes:this.themes}}),mounted:function(){var t=this;this.getMandMobileInfo().catch(function(e){e.message&&t.$message(e.message)})},methods:i()({},Object(s.c)(["createTheme","deleteTheme","updateThemeInfo"]),Object(s.b)({getMandMobileInfo:"GET_MAND_MOBILE_RELEASE",saveThemeStore:"SAVE_THEMES_STORE"}),{onDelete:function(t){var e=this;this.$confirm(this.$t("record.messageDescribe"),this.$t("record.messageTitle"),{confirmButtonText:this.$t("record.messageConfirm"),cancelButtonText:this.$t("record.messageCancel"),type:"warning"}).then(function(){e.deleteTheme(t),e.saveThemeStore()}).catch(function(){})},onSelect:function(t){this.$router.push({path:"/list",query:{themeIndex:t}})},onDownload:function(t){this.$router.push({path:"/generate",query:{themeIndex:t}})},onSearchTheme:function(t){this.searchThemes=t?this.themes.filter(function(e){return!!~e.title.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())}):this.themes},showThemeDialog:function(t){this.$refs.themeForm&&this.$refs.themeForm.resetFields();var e="";this.themes&&t>=0&&(e=this.themes[t]),this.themeForm=e?{title:e.title,version:e.version,themeIndex:t}:{title:"",version:this.mandMobileInfo,themeIndex:-1},this.themeFormVisible=!0},doCreateTheme:function(){this.themes&&this.themes.length>20?this.$message.error(this.$t("record.errorLimit")):this.showThemeDialog(-1)},doSaveTheme:function(){var t=this;this.$refs.themeForm.validate(function(e){e&&(t.themeFormVisible=!1,t.themeForm.themeIndex<0?t.createTheme(t.themeForm):t.updateThemeInfo(t.themeForm),t.saveThemeStore())})}})},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"palette-record"},[r("div",{staticClass:"palette-record-top clearfix"},[r("palette-searcher",{attrs:{placeholder:t.$t("record.searchTip")},on:{search:t.onSearchTheme}}),t._v(" "),r("el-button",{attrs:{type:"primary",round:"",icon:"el-icon-circle-plus"},on:{click:t.doCreateTheme}},[t._v("\n      "+t._s(t.$t("record.createBtn"))+"\n    ")])],1),t._v(" "),r("div",{staticClass:"palette-record-list clearfix"},[t.themeList&&t.themeList.length?[r("transition-group",{attrs:{name:"list-complete",tag:"div"}},t._l(t.themeList,function(e,n){return r("palette-recorder",{key:"record-"+n,attrs:{theme:e},on:{delete:t.onDelete,select:t.onSelect,edit:t.showThemeDialog,download:t.onDownload}})}),1)]:[r("palette-status",{attrs:{imgUrl:"//manhattan.didistatic.com/static/manhattan/mfd/result-page/empty",describe:t.$t("record.errorTip")}})]],2),t._v(" "),r("el-dialog",{attrs:{width:"500px",title:"sdfsdf",visible:t.themeFormVisible},on:{"update:visible":function(e){t.themeFormVisible=e}}},[r("el-form",{ref:"themeForm",attrs:{model:t.themeForm,"label-width":"120px","label-position":"left"}},[r("el-form-item",{attrs:{prop:"title",label:t.$t("record.dialogThemeName"),rules:[{required:!0,message:t.$t("recorder.placeholder"),trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:t.$t("recorder.placeholder"),"auto-complete":"off",maxlength:"20"},model:{value:t.themeForm.title,callback:function(e){t.$set(t.themeForm,"title",e)},expression:"themeForm.title"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"version",label:t.$t("record.dialogThemeVersion"),rules:[{required:!0,message:t.$t("record.dialogThemeVersionTip"),trigger:"blur"}]}},[r("el-select",{attrs:{disabled:""},model:{value:t.themeForm.version,callback:function(e){t.$set(t.themeForm,"version",e)},expression:"themeForm.version"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[r("p",{staticClass:"title"},[t._v(t._s(t.$t("record.dialogTitle")))]),t._v(" "),r("p",{staticClass:"describe"},[t._v(t._s(t.$t("record.dialogDescribe")))])]),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.themeFormVisible=!1}}},[t._v(t._s(t.$t("record.messageCancel")))]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.doSaveTheme}},[t._v(t._s(t.$t("record.messageConfirm")))])],1)],1)],1)},staticRenderFns:[]};var f=r("VU/8")(d,m,!1,function(t){r("78af")},null,null);e.default=f.exports},CESU:function(t,e,r){"use strict";var n={name:"palette-searcher",props:{placeholder:{type:String,default:""}},data:function(){return{value:""}},watch:{value:function(t){this.$emit("search",t)}}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"palette-searcher"},[r("i",{staticClass:"el-icon-search"}),t._v(" "),r("el-input",{staticClass:"palette-searcher-input",attrs:{placeholder:t.placeholder,"auto-complete":"off"},model:{value:t.value,callback:function(e){t.value="string"==typeof e?e.trim():e},expression:"value"}})],1)},staticRenderFns:[]};var s=r("VU/8")(n,i,!1,function(t){r("zn5i")},null,null);e.a=s.exports},"jZ/n":function(t,e){},oqQY:function(t,e,r){var n;n=function(){"use strict";var t="millisecond",e="second",r="minute",n="hour",i="day",s="week",o="month",a="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})(.*?(\d{1,2}):(\d{1,2}):(\d{1,2}))?.?(\d{1,3})?$/,l=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},u=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},d={padStart:u,padZoneStr:function(t){var e=Math.abs(t),r=Math.floor(e/60),n=e%60;return(t<=0?"+":"-")+u(r,2,"0")+":"+u(n,2,"0")},monthDiff:function(t,e){var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months"),i=e-n<0,s=t.clone().add(r+(i?-1:1),"months");return Number(-(r+(e-n)/(i?n-s:s-n)))},absFloor:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},prettyUnit:function(c){return{M:o,y:a,w:s,d:i,h:n,m:r,s:e,ms:t}[c]||String(c||"").toLowerCase().replace(/s$/,"")},isUndefined:function(t){return void 0===t}},m="en",f={};f[m]=h;var p=function(t){return t instanceof _},$=function(t,e,r){var n;if(!t)return null;if("string"==typeof t)f[t]&&(n=t),e&&(f[t]=e,n=t);else{var i=t.name;f[i]=t,n=i}return r||(m=n),n},v=function(t,e){if(p(t))return t.clone();var r=e||{};return r.date=t,new _(r)},g=function(t,e){return v(t,{locale:e.$L})},y=d;y.parseLocale=$,y.isDayjs=p,y.wrapper=g;var _=function(){function h(t){this.parse(t)}var u=h.prototype;return u.parse=function(t){var e,r;this.$d=null===(e=t.date)?new Date(NaN):y.isUndefined(e)?new Date:e instanceof Date?e:"string"==typeof e&&/.*[^Z]$/i.test(e)&&(r=e.match(c))?new Date(r[1],r[2]-1,r[3]||1,r[5]||0,r[6]||0,r[7]||0,r[8]||0):new Date(e),this.init(t)},u.init=function(t){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds(),this.$L=this.$L||$(t.locale,null,!0)||m},u.$utils=function(){return y},u.isValid=function(){return!("Invalid Date"===this.$d.toString())},u.isSame=function(t,e){var r=v(t);return this.startOf(e)<=r&&r<=this.endOf(e)},u.isAfter=function(t,e){return v(t)<this.startOf(e)},u.isBefore=function(t,e){return this.endOf(e)<v(t)},u.year=function(){return this.$y},u.month=function(){return this.$M},u.day=function(){return this.$W},u.date=function(){return this.$D},u.hour=function(){return this.$H},u.minute=function(){return this.$m},u.second=function(){return this.$s},u.millisecond=function(){return this.$ms},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(t,c){var l=this,h=!!y.isUndefined(c)||c,u=function(t,e){var r=g(new Date(l.$y,e,t),l);return h?r:r.endOf(i)},d=function(t,e){return g(l.toDate()[t].apply(l.toDate(),(h?[0,0,0,0]:[23,59,59,999]).slice(e)),l)};switch(y.prettyUnit(t)){case a:return h?u(1,0):u(31,11);case o:return h?u(1,this.$M):u(0,this.$M+1);case s:return u(h?this.$D-this.$W:this.$D+(6-this.$W),this.$M);case i:case"date":return d("setHours",0);case n:return d("setMinutes",1);case r:return d("setSeconds",2);case e:return d("setMilliseconds",3);default:return this.clone()}},u.endOf=function(t){return this.startOf(t,!1)},u.$set=function(s,c){var l,h=y.prettyUnit(s),u=(l={},l[i]="setDate",l.date="setDate",l[o]="setMonth",l[a]="setFullYear",l[n]="setHours",l[r]="setMinutes",l[e]="setSeconds",l[t]="setMilliseconds",l)[h],d=h===i?this.$D+(c-this.$W):c;return this.$d[u]&&this.$d[u](d),this.init(),this},u.set=function(t,e){return this.clone().$set(t,e)},u.add=function(t,c){var l,h=this;t=Number(t);var u=y.prettyUnit(c),d=function(e,r){var n=h.set("date",1).set(e,r+t);return n.set("date",Math.min(h.$D,n.daysInMonth()))},m=function(e){var r=new Date(h.$d);return r.setDate(r.getDate()+e*t),g(r,h)};if(u===o)return d(o,this.$M);if(u===a)return d(a,this.$y);if(u===i)return m(1);if(u===s)return m(7);var f=(l={},l[r]=6e4,l[n]=36e5,l[e]=1e3,l)[u]||1,p=this.valueOf()+t*f;return g(p,this)},u.subtract=function(t,e){return this.add(-1*t,e)},u.format=function(t){var e=this,r=t||"YYYY-MM-DDTHH:mm:ssZ",n=y.padZoneStr(this.$d.getTimezoneOffset()),i=this.$locale(),s=i.weekdays,o=i.months,a=function(t,e,r,n){return t&&t[e]||r[e].substr(0,n)},c=function(t){return 0===e.$H?12:y.padStart(e.$H<13?e.$H:e.$H-12,"hh"===t?2:1,"0")};return r.replace(l,function(t){return t.indexOf("[")>-1?t.replace(/\[|\]/g,""):{YY:String(e.$y).slice(-2),YYYY:String(e.$y),M:String(e.$M+1),MM:y.padStart(e.$M+1,2,"0"),MMM:a(i.monthsShort,e.$M,o,3),MMMM:o[e.$M],D:String(e.$D),DD:y.padStart(e.$D,2,"0"),d:String(e.$W),dd:a(i.weekdaysMin,e.$W,s,2),ddd:a(i.weekdaysShort,e.$W,s,3),dddd:s[e.$W],H:String(e.$H),HH:y.padStart(e.$H,2,"0"),h:c(t),hh:c(t),a:e.$H<12?"am":"pm",A:e.$H<12?"AM":"PM",m:String(e.$m),mm:y.padStart(e.$m,2,"0"),s:String(e.$s),ss:y.padStart(e.$s,2,"0"),SSS:y.padStart(e.$ms,3,"0"),Z:n}[t]||n.replace(":","")})},u.diff=function(t,c,l){var h,u=y.prettyUnit(c),d=v(t),m=this-d,f=y.monthDiff(this,d);return f=(h={},h[a]=f/12,h[o]=f,h.quarter=f/3,h[s]=m/6048e5,h[i]=m/864e5,h[n]=m/36e5,h[r]=m/6e4,h[e]=m/1e3,h)[u]||m,l?f:y.absFloor(f)},u.daysInMonth=function(){return this.endOf(o).$D},u.$locale=function(){return f[this.$L]},u.locale=function(t,e){var r=this.clone();return r.$L=$(t,e,!0),r},u.clone=function(){return g(this.toDate(),this)},u.toDate=function(){return new Date(this.$d)},u.toArray=function(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]},u.toJSON=function(){return this.toISOString()},u.toISOString=function(){return this.$d.toISOString()},u.toObject=function(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}},u.toString=function(){return this.$d.toUTCString()},h}();return v.extend=function(t,e){return t(e,_,v),v},v.locale=$,v.isDayjs=p,v.unix=function(t){return v(1e3*t)},v.en=f[m],v},t.exports=n()},zn5i:function(t,e){}});
//# sourceMappingURL=record.7b3e9ac952b38425f3c7.js.map