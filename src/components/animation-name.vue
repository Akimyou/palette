<template>
  <div class="paletee-animation-name">
    <div class="logo-animation">
      <div class="letters">
        <div class="letter letter-m">
          <svg width="58px" height="43px" viewBox="0 0 58 43">
            <g fill="none" fill-rule="evenodd" stroke="#5E89FB">
              <path class="fill in" stroke-width="1" d="M0.8117529,1.453125 L8.9758154,1.453125 L8.9758154,5.75 L9.1320654,5.75 C11.8143705,2.54685898 15.342981,0.9453125 19.7180029,0.9453125 C22.530517,0.997396094 24.7961193,1.47916211 26.5148779,2.390625 C28.2075947,3.40625508 29.7570584,4.69530469 31.1633154,6.2578125 C34.3404146,2.66404453 38.5981845,0.893228906 43.9367529,0.9453125 C47.2961447,0.9453125 50.3690306,2.13019648 53.1555029,4.5 C55.9159334,6.89584531 57.3482107,10.4114352 57.4523779,15.046875 L57.4523779,42 L49.2883154,42 L49.2883154,17.859375 C49.2883154,15.0208191 48.5461353,12.8593824 47.0617529,11.375 C45.5773705,9.86457578 43.6633271,9.109375 41.3195654,9.109375 C38.9758037,9.109375 37.0487396,9.86457578 35.5383154,11.375 C34.0018494,12.8593824 33.2336279,15.0208191 33.2336279,17.859375 L33.2336279,42 L25.0695654,42 L25.0695654,17.859375 C25.0695654,15.0208191 24.3273853,12.8593824 22.8430029,11.375 C21.3325787,9.86457578 19.4055146,9.109375 17.0617529,9.109375 C14.7179912,9.109375 12.8039478,9.86457578 11.3195654,11.375 C9.75705759,12.8593824 8.9758154,15.0208191 8.9758154,17.859375 L8.9758154,42 L0.8117529,42 L0.8117529,1.453125 Z"></path>
            </g>
          </svg>
        </div>
        <div class="letter letter-a">
          <svg width="35px" height="43px" viewBox="0 0 35 43">
            <g fill="none" fill-rule="evenodd" stroke="#FB155A">
              <path class="fill in" stroke-width="1" d="M25.7140966,38.40625 L25.5578466,38.40625 C24.8026345,39.7864652 23.6307713,40.8020801 22.0422216,41.453125 C20.4797138,42.1302117 18.3182771,42.46875 15.5578466,42.46875 C11.026574,42.4166664 7.53702556,41.2187617 5.08909665,38.875 C2.51095876,36.5833219 1.22190915,33.6536637 1.22190915,30.0859375 C1.22190915,26.6744621 2.34168962,23.8489695 4.58128415,21.609375 C6.82087868,19.3176969 10.1020959,18.1458336 14.4250341,18.09375 L25.7140966,18.09375 L25.7140966,13.8359375 C25.7661802,10.2682113 22.9927705,8.53645781 17.3937841,8.640625 C15.362524,8.640625 13.7609775,8.84895625 12.5890966,9.265625 C11.3651322,9.76041914 10.4016002,10.5937441 9.69847165,11.765625 L3.29222165,6.8828125 C6.39119548,2.82029219 10.9614623,0.841145312 17.0031591,0.9453125 C22.1073513,0.893228906 26.1828314,1.85676094 29.2297216,3.8359375 C32.2766119,5.86719766 33.8260756,9.35674609 33.8781591,14.3046875 L33.8781591,42 L25.7140966,42 L25.7140966,38.40625 Z M25.7140966,24.8125 L15.9484716,24.8125 C11.2088646,24.9166672 8.86513806,26.5442551 8.91722165,29.6953125 C8.91722165,31.0755277 9.5291947,32.247391 10.7531591,33.2109375 C11.92504,34.2786512 13.8651248,34.8125 16.5734716,34.8125 C19.984947,34.8645836 22.3937771,34.4609418 23.8000341,33.6015625 C25.0760822,32.7421832 25.7140966,30.7890777 25.7140966,27.7421875 L25.7140966,24.8125 Z"/>
            </g>
          </svg>
        </div>
        <div class="letter letter-n">
          <svg width="33px" height="43px" viewBox="0 0 34 43">
            <g fill="none" fill-rule="evenodd" stroke="#18FF92">
              <path class="fill in" stroke-width="1" d="M0.94065915,1.453125 L9.10472165,1.453125 L9.10472165,5.75 L9.26097165,5.75 C11.9432767,2.54685898 15.4588666,0.9453125 19.8078466,0.9453125 C23.1672384,0.9453125 26.2401244,2.13019648 29.0265966,4.5 C31.7870271,6.89584531 33.2323252,10.4114352 33.3625341,15.046875 L33.3625341,42 L25.1984716,42 L25.1984716,17.859375 C25.1984716,15.0208191 24.4432709,12.8593824 22.9328466,11.375 C21.4484642,9.86457578 19.5344209,9.109375 17.1906591,9.109375 C14.8468974,9.109375 12.9198334,9.86457578 11.4094091,11.375 C9.87294313,12.8593824 9.10472165,15.0208191 9.10472165,17.859375 L9.10472165,42 L0.94065915,42 L0.94065915,1.453125 Z"/>
            </g>
          </svg>
        </div>
        <div class="letter letter-d">
          <svg width="33px" height="58px" viewBox="0 0 34 58">
            <g fill="none" fill-rule="evenodd" stroke="#5E89FB">
              <path class="fill in" stroke-width="1" d="M24.9211279,52.7421875 C22.2388228,55.7890777 18.7362537,57.3645828 14.4133154,57.46875 C11.9653865,57.4166664 9.86905329,56.908859 8.1242529,55.9453125 C6.30132712,55.0078078 4.77790485,53.7578203 3.5539404,52.1953125 C2.43414313,50.9192645 1.69196306,49.1875109 1.3273779,47 C0.884667353,44.9166562 0.6633154,41.4791906 0.6633154,36.6875 C0.6633154,31.817684 0.884667353,28.354177 1.3273779,26.296875 C1.69196306,24.2135313 2.43414313,22.5338605 3.5539404,21.2578125 C5.84561852,17.8463371 9.46537399,16.0755215 14.4133154,15.9453125 C16.4966591,15.9453125 18.4237232,16.3749957 20.1945654,17.234375 C21.8351986,18.1458379 23.4107037,19.3177012 24.9211279,20.75 L24.9211279,0.046875 L33.0851904,0.046875 L33.0851904,57 L24.9211279,57 L24.9211279,52.7421875 Z M16.9133154,24.109375 C14.9862224,24.109375 13.514883,24.4348926 12.4992529,25.0859375 C11.3794556,25.789066 10.5591513,26.752598 10.0383154,27.9765625 C9.54352126,29.200527 9.21800368,30.5286387 9.0617529,31.9609375 C8.90550212,33.4974035 8.8273779,35.0729086 8.8273779,36.6875 C8.8273779,38.223966 8.90550212,39.7213469 9.0617529,41.1796875 C9.21800368,42.7161535 9.54352126,44.096348 10.0383154,45.3203125 C10.5591513,46.4921934 11.3794556,47.4557254 12.4992529,48.2109375 C13.514883,48.9401078 14.9862224,49.3046875 16.9133154,49.3046875 C18.8404084,49.3046875 20.3638306,48.9140664 21.4836279,48.1328125 C22.6034252,47.3776004 23.3716467,46.388027 23.7883154,45.1640625 C24.3091513,43.940098 24.6607103,42.5729242 24.8430029,41.0625 C24.8950865,39.5781176 24.9211279,38.1197988 24.9211279,36.6875 C24.9211279,35.1249922 24.8950865,33.6276113 24.8430029,32.1953125 C24.6607103,30.7630137 24.3091513,29.434902 23.7883154,28.2109375 C23.3716467,26.986973 22.6034252,25.9973996 21.4836279,25.2421875 C20.3638306,24.4869754 18.8404084,24.109375 16.9133154,24.109375 Z"/>
            </g>
          </svg>
        </div>
        <div class="letter letter-m-2">
          <svg viewBox="0 0 162 162">
            <g fill="none" fill-rule="evenodd" stroke="#FB155A">
              <path class="fill in" stroke-width="1" d="M24.9211279,52.7421875 C22.2388228,55.7890777 18.7362537,57.3645828 14.4133154,57.46875 C11.9653865,57.4166664 9.86905329,56.908859 8.1242529,55.9453125 C6.30132712,55.0078078 4.77790485,53.7578203 3.5539404,52.1953125 C2.43414313,50.9192645 1.69196306,49.1875109 1.3273779,47 C0.884667353,44.9166562 0.6633154,41.4791906 0.6633154,36.6875 C0.6633154,31.817684 0.884667353,28.354177 1.3273779,26.296875 C1.69196306,24.2135313 2.43414313,22.5338605 3.5539404,21.2578125 C5.84561852,17.8463371 9.46537399,16.0755215 14.4133154,15.9453125 C16.4966591,15.9453125 18.4237232,16.3749957 20.1945654,17.234375 C21.8351986,18.1458379 23.4107037,19.3177012 24.9211279,20.75 L24.9211279,0.046875 L33.0851904,0.046875 L33.0851904,57 L24.9211279,57 L24.9211279,52.7421875 Z M16.9133154,24.109375 C14.9862224,24.109375 13.514883,24.4348926 12.4992529,25.0859375 C11.3794556,25.789066 10.5591513,26.752598 10.0383154,27.9765625 C9.54352126,29.200527 9.21800368,30.5286387 9.0617529,31.9609375 C8.90550212,33.4974035 8.8273779,35.0729086 8.8273779,36.6875 C8.8273779,38.223966 8.90550212,39.7213469 9.0617529,41.1796875 C9.21800368,42.7161535 9.54352126,44.096348 10.0383154,45.3203125 C10.5591513,46.4921934 11.3794556,47.4557254 12.4992529,48.2109375 C13.514883,48.9401078 14.9862224,49.3046875 16.9133154,49.3046875 C18.8404084,49.3046875 20.3638306,48.9140664 21.4836279,48.1328125 C22.6034252,47.3776004 23.3716467,46.388027 23.7883154,45.1640625 C24.3091513,43.940098 24.6607103,42.5729242 24.8430029,41.0625 C24.8950865,39.5781176 24.9211279,38.1197988 24.9211279,36.6875 C24.9211279,35.1249922 24.8950865,33.6276113 24.8430029,32.1953125 C24.6607103,30.7630137 24.3091513,29.434902 23.7883154,28.2109375 C23.3716467,26.986973 22.6034252,25.9973996 21.4836279,25.2421875 C20.3638306,24.4869754 18.8404084,24.109375 16.9133154,24.109375 Z"/>
            </g>
          </svg>
        </div>
        <div class="letter letter-e">
          <svg viewBox="0 0 162 162">
            <g fill="none" fill-rule="evenodd" stroke="#18FF92">
              <path class="fill in" stroke-width="40" d="M81 101h60V81c-1-33.14-26.86-60-60-60a60 60 0 1 0 0 120"/>
              <path class="fill out" stroke-width="40" d="M81 141a60 60 0 1 1 0-120c33.14 0 59 26.86 60 60v20H81"/>
              <path class="line out" stroke-width="2" d="M81 81v40h80V80.7C159.66 36.27 124.8 1 81 1a80 80 0 1 0 0 160v-40a40 40 0 1 1 0-80c21.6 0 39.01 17.42 39.99 40H81z"/>
            </g>
          </svg>
        </div>
        <div class="logo-icon">
          <div class="icon">
            <svg viewBox="0 0 62 62">
              <g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)">
                <path class="icon-curve" stroke="#FF1554" d="M0 16a80.88 80.88 0 0 1 44 44"/>
                <path class="icon-line" stroke="#5E89FB" d="M4 0h54a2 2 0 0 1 2 2.01V58A2 2 0 0 1 58 60H2a2 2 0 0 1-2-2.01V2A2 2 0 0 1 2 0h2z"/>
                <rect width="40" height="40" x="10" y="10" stroke="#18FF92" rx="20"/>
              </g>
            </svg>
          </div>
          <div class="icon-text">
            <svg viewBox="0 0 160 62">
              <g fill="#FBF3FB" fill-rule="evenodd">
                <path d="M27.33 18h1.73l10.15 25.7h-1.69l-3.24-8.24H21.97l-3.28 8.24H17L27.33 18zm6.45 16.1l-5.51-14.55h-.07l-5.73 14.54h11.3z"/>
                <polygon points="51.334 18 53.314 18 69.55 41.58 69.622 41.58 69.622 18 71.206 18 71.206 43.704 69.334 43.704 52.99 19.944 52.918 19.944 52.918 43.704 51.334 43.704"/>
                <polygon points="86.027 18 87.611 18 87.611 43.704 86.027 43.704"/>
                <polygon points="102.433 18 104.701 18 114.745 41.94 114.817 41.94 124.753 18 127.021 18 127.021 43.704 125.437 43.704 125.437 19.944 125.365 19.944 115.573 43.704 113.989 43.704 104.089 19.944 104.017 19.944 104.017 43.704 102.433 43.704"/>
                <polygon points="141.843 18 159.123 18 159.123 19.368 143.427 19.368 143.427 29.664 158.187 29.664 158.187 31.032 143.427 31.032 143.427 42.336 159.303 42.336 159.303 43.704 141.843 43.704"/>
              </g>
            </svg>
          </div>
        </div>
        <div class="dot dot-i">
          <svg viewBox="0 0 42 42">
            <g fill="none" fill-rule="evenodd">
              <rect width="40" height="40" x="1" y="1" fill="#17F28C" rx="20"/>
            </g>
          </svg>
        </div>
        <div class="dot dot-e">
          <svg viewBox="0 0 42 42">
            <g fill="none" fill-rule="evenodd">
              <rect width="40" height="40" x="1" y="1" fill="#FFFFFF" rx="20"/>
            </g>
          </svg>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import anime from 'animejs'

export default {
  name: 'paletee-animation-name',
  mounted () {
    var logoEl = document.querySelector('.logo-animation');
    var pathEls = document.querySelectorAll('.logo-animation path:not(.icon-curve)');
    var innerWidth = window.innerWidth;
    var maxWidth = 740;
    var logoScale = innerWidth <= maxWidth ? innerWidth / maxWidth : 1;
    var logoTimeline = anime.timeline();

    logoEl.style.transform = 'translateY(50px) scale('+logoScale+')';

    for (var i = 0; i < pathEls.length; i++) {
      var el = pathEls[i];
      el.setAttribute('stroke-dashoffset', anime.setDashoffset(el));
    }

    logoTimeline
    .add({
      targets: '.dot-e',
      translateX: [
        { value: -600, duration: 520, delay: 200, easing: 'easeInQuart' },
        { value: [-100, 0], duration: 500, delay: 1000, easing: 'easeOutQuart' }
      ],
      scale: [
        { value: [0, 1], duration: 200, easing: 'easeOutBack' },
        { value: 0, duration: 20, delay: 500, easing: 'easeInQuart' },
        { value: 1, duration: 200, delay: 1000, easing: 'easeOutQuart' },
        { value: 0, duration: 400, delay: 500, easing: 'easeInBack' }
      ],
      offset: 0
    })
    .add({
      targets: '.dot-i',
      translateY: { value: [-200, 0], duration: 500, elasticity: 400 },
      scale: [
        { value: [0, 1], duration: 100, easing: 'easeOutQuart' },
        { value: 0, duration: 400, delay: 1400, easing: 'easeInBack' }
      ],
      delay: 1200,
      offset: 0
    })
    .add({
      targets: '.fill.in',
      strokeDashoffset: {
        value: [anime.setDashoffset, 0],
        duration: 600,
        delay: function(el, i, t) { return 700 + ( i * 100 ); },
        easing: 'easeOutQuart'
      },
      stroke: {
        value: ['#FFF', function(el) { return anime.getValue(el.parentNode, 'stroke') } ],
        duration: 500,
        delay: 500,
        easing: 'easeInQuad'
      },
      opacity: {
        value: 0,
        duration: 1,
        delay: function(el, i, t) { return 1900 + ( i * 80 ); },
      },
      offset: 0
    })
    // .add({
    //   targets: '.fill.out',
    //   strokeDashoffset: [
    //     { value: [anime.setDashoffset, anime.setDashoffset], duration: 1890 },
    //     {
    //       value: [0, anime.setDashoffset],
    //       duration: 800,
    //       delay: function(el, i) { return (i * 80); },
    //       easing: 'easeInQuart'
    //     }
    //   ],
    //   offset: 0
    // })
    // .add({
    //   targets: '.line.out',
    //   strokeDashoffset: {
    //     value: [0, anime.setDashoffset],
    //     duration: 1200,
    //     delay: function(el, i, t) { return 2500 + ( i * 100 ); },
    //     easing: 'easeInQuart'
    //   },
    //   strokeWidth: {
    //     value: [0, 2],
    //     delay: function(el, i, t) { return 2000 + ( i * 100 ); },
    //     duration: 200,
    //     easing: 'linear'
    //   },
    //   offset: 0
    // })
    // .add({
    //   targets: '.icon',
    //   opacity: { value: 1, duration: 10, delay: 2800, easing: 'linear' },
    //   translateY: { value: 60, duration: 800 },
    //   delay: 4200,
    //   offset: 0
    // })
    // .add({
    //   targets: '.icon-line',
    //   strokeDashoffset: [
    //     { value: [anime.setDashoffset, anime.setDashoffset], duration: 3000 },
    //     { value: 0, duration: 1200, easing: 'easeInOutQuart' }
    //   ],
    //   strokeWidth: {
    //     value: [8, 2],
    //     delay: 3000,
    //     duration: 800,
    //     easing: 'easeInQuad'
    //   },
    //   stroke: {
    //     value: ['#FFF', function(el) { return anime.getValue(el, 'stroke') } ],
    //     duration: 800,
    //     delay: 3400,
    //     easing: 'easeInQuad'
    //   },
    //   offset: 0
    // })
    // .add({
    //   targets: ['.icon-text path', '.icon-text polygon'],
    //   translateY: [50, 0],
    //   opacity: { value: [0, 1], duration: 100, easing: 'linear' },
    //   delay: function(el, i, t) { return 4200 + ( i * 20 ); },
    //   offset: 0
    // });
  }
}
</script>

<style lang="css">
.paletee-animation-name
  body {
  opacity: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
body.ready {
  opacity: 1;
}
.logo-animation {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  margin-top: -40px;
}
.letters {
  position: relative;
  display: flex;
  width: 682px;
  height: 162px;
}
.letter {
  position: relative;
  width: 162px;
  height: 162px;
}
.letter svg {
  position: absolute;
  bottom: 0;
  left: 0;
}
/* .letter:not(:first-child) {
  margin-left: -42px;
}
.letter-i {
  z-index: 1;
  width: 82px;
  transform-origin: 100% 50%;
} */
.dot {
  position: absolute;
  width: 42px;
  height: 42px;
  transform: scale(0);
}
.dot-i {
  top: 0;
  left: 240px;
}
.dot-e {
  bottom: 0;
  right: 0;
}
.logo-icon {
  display: flex;
  position: absolute;
  left: 230px;
  top: -10px;
  width: 222px;
  height: 62px;
}
.icon {
  width: 62px;
  height: 62px;
  opacity: 0;
}
.icon-text {
  position: absolute;
  top: 60px;
  left: 60px;
  width: 160px;
  height: 62px;
}
.icon-text path,
.icon-text polygon {
  opacity: 0;
}
</style>
